{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>StayHub</title>

    <link rel="stylesheet" href="{% static 'core/style.css' %}" />

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
   <!-- COPIEM OS DOIS LINKS NO DE VCS, O SEGUNDO E OS NEGOCIOS DO FOOTER) -->
  </head>

  <body>

<!-- NEGOCIO DO HEADER (COPIAR NO DE VCS) -->
    <header>
      <img class="logo" src="{% static 'core/img/LOGO.png' %}" />
      <nav class="esquerda">
        <ul>
          <li><a href="{% url 'home' %}">HOME</a></li>
          <li><a href="{% url 'quartos' %}">QUARTOS</a></li>
        </ul>
      </nav>
      <nav class="direita">
        {% if user.is_authenticated %}
          <span class="usuario-logado" id="btnMudarNome" style="cursor: pointer;">Olá, {{ user.first_name|default:user.username }}</span>
          <a class="sair" href="#" id="btnLogout">SAIR</a>
        {% else %}
          <a class="login" href="#" id="btnLogin">LOGIN</a>
          <a class="criar" href="#" id="btnCadastro">CADASTRO</a>
        {% endif %}
      </nav>
    </header>
<!-- NEGOCIO HEADER FIM (COPIAR NO DE VCS) -->


<!-- POPUP CADASTRO (COPIAR NO DE VCS) -->
    <div class="popup-overlay" id="popupoverlay">
      <div class="modal-content">
        <button class="popupX" id="popupX">&times;</button>
        <h2 class="popup-titulo">CRIE SUA CONTA</h2>
        <form class="popup-form">
          {% csrf_token %}
          <div class="popup-grupo">
            <label for="nome">seu nome</label>
            <input type="text" id="nome" name="nome" required />
          </div>
          <div class="popup-grupo">
            <label for="email">seu email</label>
            <input type="email" id="email" name="email" required />
          </div>
          <div class="popup-grupo">
            <label for="senha">sua senha</label>
            <input type="password" id="senha" name="senha" required />
          </div>
          <button type="submit" class="registrar">REGISTRAR</button>
        </form>
      </div>
    </div>
<!-- POPUP CADASTRO FIM (COPIAR NO DE VCS) -->


<!-- POPUP LOGIN (COPIAR NO DE VCS) -->
    <div class="popup-overlay" id="popupoverlay-login">
      <div class="modal-content">
        <button class="popupX" id="popupX-login">&times;</button>
        <h2 class="popup-titulo">ENTRE NA SUA CONTA</h2>
        <form class="popup-form">
          {% csrf_token %}
          <div class="popup-grupo">
            <label for="email">seu email</label>
            <input type="email" id="emailLogin" name="email" required />
          </div>
          <div class="popup-grupo">
            <label for="senha">sua senha</label>
            <input type="password" id="senhaLogin" name="senha" required />
          </div>
          <button type="submit" class="registrar">ENTRAR</button>
        </form>
      </div>
    </div>
<!-- POPUP LOGIN FIM (COPIAR NO DE VCS) -->


<!-- POPUP MUDAR NOME (COPIAR NO DE VCS) -->
    <div class="popup-overlay" id="popupoverlay-mudar-nome">
      <div class="modal-content">
        <button class="popupX" id="popupX-mudar-nome">&times;</button>
        <h2 class="popup-titulo">MUDAR NOME DA CONTA</h2>
        <form class="popup-form" id="formMudarNome">
          {% csrf_token %}
          <div class="popup-grupo">
            <label for="novoNome">seu novo nome</label>
            <input type="text" id="novoNome" name="novoNome" value="{{ user.first_name|default:user.username }}" required />
          </div>
          <div class="popup-botoes">
            <button type="button" class="botao-manter" id="btnManterNome">MANTER IGUAL</button>
            <button type="submit" class="registrar">CONFIRMAR MUDANÇA</button>
          </div>
        </form>
      </div>
    </div>
<!-- POPUP MUDAR NOME FIM (COPIAR NO DE VCS) -->






<!-- PARTE DO QUARTOS QUE VOCES NAO VAO COPIAR!!! NAOO COPIAR -->

<main class="CantoDosQuartos">
    <section id="CantoQuadradosCaixa">
        <h2>QUARTOS RESERVADOS:</h2>
    </section>
    
    <div class="reservasLista">
        {% if user.is_authenticated %}
          {% if reservas %}
            {% for reserva in reservas %}
              <div class="reserva-card" data-reserva-id="{{ reserva.id }}">
                {% if reserva.quarto.imagem_url %}
                  <img src="{{ reserva.quarto.imagem_url }}" alt="{{ reserva.quarto.nome }}" class="reserva-imagem" />
                {% else %}
                  <div class="reserva-imagem" style="background-color: #ddd;"></div>
                {% endif %}
                <div class="reserva-info">
                  <div class="reserva-detalhes">
                    <p class="reserva-descricao">
                      {% if reserva.quarto.descricao %}
                        {{ reserva.quarto.descricao }}
                      {% else %}
                        {{ reserva.quarto.nome }}
                      {% endif %}
                    </p>
                    <p class="reserva-datas">
                      {% with checkin=reserva.checkin checkout=reserva.checkout %}
                        {{ checkin|date:"d" }} de {{ checkin|date:"M"|lower|slice:":3" }} - {{ checkout|date:"d" }} de {{ checkout|date:"M"|lower|slice:":3" }}
                      {% endwith %}
                    </p>
                  </div>
                </div>
                <button type="button" class="reserva-botao-eliminar" data-reserva-id="{{ reserva.id }}">
                  <i class="fa-solid fa-trash"></i>
                </button>
              </div>
            {% endfor %}

          {% else %}
            <div class="sem-reservas-card">
              <p class="sem-reservas-texto">NÃO IDENTIFICAMOS</p>
              <p class="sem-reservas-texto">NENHUM QUARTO</p>
              <p class="sem-reservas-texto">RESERVADO NO SEU</p>
              <p class="sem-reservas-texto">NOME</p>
              <p class="sem-reservas-emoticon">:/</p>
            </div>
          {% endif %}

        {% else %}
          <div class="sem-reservas-card">
            <p class="sem-reservas-texto">NÃO IDENTIFICAMOS</p>
            <p class="sem-reservas-texto">NENHUM QUARTO</p>
            <p class="sem-reservas-texto">RESERVADO NO SEU</p>
            <p class="sem-reservas-texto">NOME</p>
            <p class="sem-reservas-emoticon">:/</p>
          </div>
        {% endif %}
    </div>
 </main>


<!-- PARTE DO QUARTO QUE VOCES NAO VAO COPIAR!!! NAOO COPIAR -->







<!-- FOOTER (COPIAR NO DE VCS) -->
    <footer>
      <div id="footerDireito" class="osDoisLadosFooter"><img class="logofooter" src="{% static 'core/img/LOGO.png' %}" />
    </div>
    
    <div id="footerIzquerda" class="osDoisLadosFooter">  
      <h3 id="titulocontato" class="coisascontatos">ENTRE EM CONTATO CONOSCO</h3>

      <div class="contatoItem">
        <i class="fa-solid fa-envelope"></i> 
        <p id="emailcontato" class="coisascontatos">stayhub@gmail.com</p>
      </div>
      
      <div class="contatoItem">
        <i class="fa-solid fa-phone"></i>
        <p id="numerocontato" class="coisascontatos">(81) 9555-5555</p>
      </div>

      <div class="contatoItem">
        <i class="fa-brands fa-instagram"></i>
        <p id="igcontato" class="coisascontatos">@stayhub</p>
      </div>
  </div>
    </footer>
<!-- FOOTER FIM (COPIAR NO DE VCS) -->

<!-- O SCRIPT DOS NEGOCIOS DO POPUP ESTAO AQUI (COPIAR NO DE VCS) -->
  <script src="{% static 'core/script.js' %}"></script>
  </body>
</html>

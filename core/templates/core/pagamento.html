{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Pagamento — StayHub</title>
    <link rel="stylesheet" href="{% static 'core/style.css' %}" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <!-- COPIEM OS DOIS LINKS NO DE VCS, O SEGUNDO E OS NEGOCIOS DO FOOTER) -->
  </head>

  <body>

    <!-- NEGOCIO DO HEADER (COPIAR NO DE VCS) -->
    <header>
      <img class="logo" src="{% static 'core/img/LOGO.png' %}" />
      <nav class="esquerda">
        <ul>
          <li><a href="{% url 'home' %}">HOME</a></li>
          <li><a href="{% url 'quartos' %}">QUARTOS</a></li>
        </ul>
      </nav>
      <nav class="direita">
        {% if user.is_authenticated %}
          <span class="usuario-logado">Olá, {{ user.first_name|default:user.username }}</span>
          <a class="sair" href="#" id="btnLogout">SAIR</a>
        {% else %}
          <a class="login" href="#" id="btnLogin">LOGIN</a>
          <a class="criar" href="#" id="btnCadastro">CADASTRO</a>
        {% endif %}
      </nav>
    </header>
<!-- NEGOCIO HEADER FIM (COPIAR NO DE VCS) -->


<!-- POPUP CADASTRO (COPIAR NO DE VCS) -->
    <div class="popup-overlay" id="popupoverlay">
      <div class="modal-content">
        <button class="popupX" id="popupX">&times;</button>
        <h2 class="popup-titulo">CRIE SUA CONTA</h2>
        <form class="popup-form">
          {% csrf_token %}
          <div class="popup-grupo">
            <label for="nome">seu nome</label>
            <input type="text" id="nome" name="nome" required />
          </div>
          <div class="popup-grupo">
            <label for="email">seu email</label>
            <input type="email" id="email" name="email" required />
          </div>
          <div class="popup-grupo">
            <label for="senha">sua senha</label>
            <input type="password" id="senha" name="senha" required />
          </div>
          <button type="submit" class="registrar">REGISTRAR</button>
        </form>
      </div>
    </div>
<!-- POPUP CADASTRO FIM (COPIAR NO DE VCS) -->


<!-- POPUP LOGIN (COPIAR NO DE VCS) -->
    <div class="popup-overlay" id="popupoverlay-login">
      <div class="modal-content">
        <button class="popupX" id="popupX-login">&times;</button>
        <h2 class="popup-titulo">ENTRE NA SUA CONTA</h2>
        <form class="popup-form">
          {% csrf_token %}
          <div class="popup-grupo">
            <label for="email">seu email</label>
            <input type="email" id="emailLogin" name="email" required />
          </div>
          <div class="popup-grupo">
            <label for="senha">sua senha</label>
            <input type="password" id="senhaLogin" name="senha" required />
          </div>
          <button type="submit" class="registrar">ENTRAR</button>
        </form>
      </div>
    </div>
<!-- POPUP LOGIN FIM (COPIAR NO DE VCS) -->


<!-- CONTEÚDO DA PÁGINA DE PAGAMENTO -->
<main class="pagamento-main" data-reserva-id="{{ reserva.id }}">
  {% if reserva %}
    <div class="pagamento-header">
      <a href="{% url 'quartoDetalhe' reserva.quarto.id %}" class="pagamento-voltar">
        <i class="fa-solid fa-arrow-left"></i>
      </a>
      <h1 class="pagamento-titulo">pagamento</h1>
    </div>

    <div class="pagamento-container">
      <!-- ESQUERDA-->
      <div class="pagamento-esquerda">
        <h2 class="pagamento-subtitulo">Sua viagem</h2>
        
        <div class="pagamento-info-item">
          <div class="pagamento-info-label">Datas</div>
          <div class="pagamento-info-value">
            {% with checkin=reserva.checkin checkout=reserva.checkout %}
              {{ checkin|date:"d" }} de {{ checkin|date:"M"|lower|slice:":3" }} - {{ checkout|date:"d" }} de {{ checkout|date:"M"|lower|slice:":3" }}
            {% endwith %}
          </div>
        </div>

        <div class="pagamento-info-item">
          <div class="pagamento-info-label">Hospedes</div>
          <div class="pagamento-info-value">
            {{ reserva.hospedes }} {% if reserva.hospedes == 1 %}Hospede{% else %}Hospedes{% endif %}
          </div>
        </div>

        <button type="button" id="botaoPagamentoRealizado" class="pagamento-botao">
          Pagamento Realizado
        </button>
      </div>

      <!-- Lado Direito: Card com Imagem e Total -->
      <div class="pagamento-direita">
        <div class="pagamento-card">
          <div class="pagamento-imagem-quarto" style="background-image: url('{{ reserva.quarto.imagem_url }}');"></div>
          
          <div class="pagamento-card-info">
            <p class="pagamento-card-descricao">Espaço inteiro: apartamento em Recife, Brasil</p>
            
            <div class="pagamento-divisor"></div>
            
            <div class="pagamento-total-container">
              <span class="pagamento-total-label">Seu Total</span>
              <span class="pagamento-total-valor">R$ {{ reserva.valor_total|floatformat:0 }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  {% else %}
    <div class="pagamento-erro-container">
      <p class="pagamento-erro-mensagem">Erro: Reserva não encontrada</p>
      <a href="{% url 'home' %}" class="pagamento-erro-link">Voltar para Home</a>
    </div>
  {% endif %}
</main>
<!-- FIM DO CONTEÚDO -->


<!-- FOOTER (COPIAR NO DE VCS) -->
    <footer>
      <div id="footerDireito" class="osDoisLadosFooter"><img class="logofooter" src="{% static 'core/img/LOGO.png' %}" />
    </div>
    
    <div id="footerIzquerda" class="osDoisLadosFooter">  
      <h3 id="titulocontato" class="coisascontatos">ENTRE EM CONTATO CONOSCO</h3>

      <div class="contatoItem">
        <i class="fa-solid fa-envelope"></i> 
        <p id="emailcontato" class="coisascontatos">stayhub@gmail.com</p>
      </div>
      
      <div class="contatoItem">
        <i class="fa-solid fa-phone"></i>
        <p id="numerocontato" class="coisascontatos">(81) 9555-5555</p>
      </div>

      <div class="contatoItem">
        <i class="fa-brands fa-instagram"></i>
        <p id="igcontato" class="coisascontatos">@stayhub</p>
      </div>
  </div>
    </footer>
<!-- FOOTER FIM (COPIAR NO DE VCS) -->

<!-- O SCRIPT DOS NEGOCIOS DO POPUP ESTAO AQUI (COPIAR NO DE VCS) -->
  <script src="{% static 'core/script.js' %}"></script>
  
  </body>
</html>

